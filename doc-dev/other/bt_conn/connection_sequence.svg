<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.42.4 (0)
 -->
<!-- Title: ConnectionInitiation Pages: 1 -->
<svg width="2370pt" height="1594pt"
 viewBox="0.00 0.00 2369.50 1594.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1590)">
<title>ConnectionInitiation</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-1590 2365.5,-1590 2365.5,4 -4,4"/>
<!-- Connected -->
<g id="node1" class="node">
<title>Connected</title>
<polygon fill="none" stroke="black" points="713,-1425 613,-1425 613,-1389 713,-1389 713,-1425"/>
<text text-anchor="middle" x="663" y="-1403.3" font-family="Times,serif" font-size="14.00">connected()</text>
</g>
<!-- GetConnId -->
<g id="node2" class="node">
<title>GetConnId</title>
<polygon fill="none" stroke="black" points="827.5,-1351 498.5,-1351 498.5,-1315 827.5,-1315 827.5,-1351"/>
<text text-anchor="middle" x="663" y="-1329.3" font-family="Times,serif" font-size="14.00">Connections_GetConnectionIdByHostAddr()</text>
</g>
<!-- Connected&#45;&gt;GetConnId -->
<g id="edge1" class="edge">
<title>Connected&#45;&gt;GetConnId</title>
<path fill="none" stroke="black" d="M663,-1388.94C663,-1380.81 663,-1370.88 663,-1361.7"/>
<polygon fill="black" stroke="black" points="666.5,-1361.44 663,-1351.44 659.5,-1361.44 666.5,-1361.44"/>
</g>
<!-- KnownConn -->
<g id="node3" class="node">
<title>KnownConn</title>
<polygon fill="none" stroke="black" points="841,-1263 691,-1263 691,-1227 841,-1227 841,-1263"/>
<text text-anchor="middle" x="766" y="-1241.3" font-family="Times,serif" font-size="14.00">Known Connection</text>
</g>
<!-- GetConnId&#45;&gt;KnownConn -->
<g id="edge2" class="edge">
<title>GetConnId&#45;&gt;KnownConn</title>
<path fill="none" stroke="black" d="M711.45,-1314.91C720.96,-1310.1 730.34,-1304.17 738,-1297 745.18,-1290.28 750.95,-1281.29 755.34,-1272.74"/>
<polygon fill="black" stroke="black" points="758.64,-1273.94 759.71,-1263.4 752.3,-1270.97 758.64,-1273.94"/>
<text text-anchor="middle" x="834" y="-1285.8" font-family="Times,serif" font-size="14.00">connectionId != Invalid</text>
</g>
<!-- UnknownConn -->
<g id="node4" class="node">
<title>UnknownConn</title>
<polygon fill="none" stroke="black" points="627.5,-1263 458.5,-1263 458.5,-1227 627.5,-1227 627.5,-1263"/>
<text text-anchor="middle" x="543" y="-1241.3" font-family="Times,serif" font-size="14.00">Unknown Connection</text>
</g>
<!-- GetConnId&#45;&gt;UnknownConn -->
<g id="edge3" class="edge">
<title>GetConnId&#45;&gt;UnknownConn</title>
<path fill="none" stroke="black" d="M586.02,-1314.9C576.42,-1310.29 567.39,-1304.43 560,-1297 553.57,-1290.53 549.57,-1281.57 547.08,-1272.95"/>
<polygon fill="black" stroke="black" points="550.48,-1272.12 544.81,-1263.18 543.67,-1273.71 550.48,-1272.12"/>
<text text-anchor="middle" x="647" y="-1285.8" font-family="Times,serif" font-size="14.00">connectionId == Invalid</text>
</g>
<!-- IsWanted -->
<g id="node11" class="node">
<title>IsWanted</title>
<polygon fill="none" stroke="black" points="815.5,-1175 722.5,-1175 722.5,-1139 815.5,-1139 815.5,-1175"/>
<text text-anchor="middle" x="769" y="-1153.3" font-family="Times,serif" font-size="14.00">isWanted()</text>
</g>
<!-- KnownConn&#45;&gt;IsWanted -->
<g id="edge10" class="edge">
<title>KnownConn&#45;&gt;IsWanted</title>
<path fill="none" stroke="black" d="M766.61,-1226.6C767.02,-1214.75 767.58,-1198.82 768.05,-1185.29"/>
<polygon fill="black" stroke="black" points="771.55,-1185.2 768.4,-1175.08 764.56,-1184.96 771.55,-1185.2"/>
</g>
<!-- ConnectUnknown -->
<g id="node5" class="node">
<title>ConnectUnknown</title>
<polygon fill="none" stroke="black" points="516,-1175 366,-1175 366,-1139 516,-1139 516,-1175"/>
<text text-anchor="middle" x="441" y="-1153.3" font-family="Times,serif" font-size="14.00">connectUnknown()</text>
</g>
<!-- UnknownConn&#45;&gt;ConnectUnknown -->
<g id="edge4" class="edge">
<title>UnknownConn&#45;&gt;ConnectUnknown</title>
<path fill="none" stroke="black" d="M522.36,-1226.6C507.05,-1213.69 486.01,-1195.95 469.15,-1181.74"/>
<polygon fill="black" stroke="black" points="471.16,-1178.85 461.26,-1175.08 466.65,-1184.21 471.16,-1178.85"/>
</g>
<!-- GattDiscover -->
<g id="node6" class="node">
<title>GattDiscover</title>
<polygon fill="none" stroke="black" points="508.5,-1087 363.5,-1087 363.5,-1051 508.5,-1051 508.5,-1087"/>
<text text-anchor="middle" x="436" y="-1065.3" font-family="Times,serif" font-size="14.00">bt_gatt_discover()</text>
</g>
<!-- ConnectUnknown&#45;&gt;GattDiscover -->
<g id="edge5" class="edge">
<title>ConnectUnknown&#45;&gt;GattDiscover</title>
<path fill="none" stroke="black" d="M439.99,-1138.6C439.3,-1126.75 438.37,-1110.82 437.59,-1097.29"/>
<polygon fill="black" stroke="black" points="441.07,-1096.86 436.99,-1087.08 434.08,-1097.27 441.07,-1096.86"/>
<text text-anchor="middle" x="522" y="-1109.8" font-family="Times,serif" font-size="14.00">Start service discovery</text>
</g>
<!-- DiscoverFunc -->
<g id="node7" class="node">
<title>DiscoverFunc</title>
<polygon fill="none" stroke="black" points="498.5,-999 373.5,-999 373.5,-963 498.5,-963 498.5,-999"/>
<text text-anchor="middle" x="436" y="-977.3" font-family="Times,serif" font-size="14.00">discover_func()</text>
</g>
<!-- GattDiscover&#45;&gt;DiscoverFunc -->
<g id="edge6" class="edge">
<title>GattDiscover&#45;&gt;DiscoverFunc</title>
<path fill="none" stroke="black" d="M436,-1050.6C436,-1038.75 436,-1022.82 436,-1009.29"/>
<polygon fill="black" stroke="black" points="439.5,-1009.08 436,-999.08 432.5,-1009.08 439.5,-1009.08"/>
</g>
<!-- DisconnectUnwantedNus -->
<g id="node8" class="node">
<title>DisconnectUnwantedNus</title>
<polygon fill="none" stroke="black" points="484,-896 0,-896 0,-860 484,-860 484,-896"/>
<text text-anchor="middle" x="242" y="-874.3" font-family="Times,serif" font-size="14.00">bt_conn_disconnect(BT_HCI_ERR_REMOTE_USER_TERM_CONN)</text>
</g>
<!-- DiscoverFunc&#45;&gt;DisconnectUnwantedNus -->
<g id="edge7" class="edge">
<title>DiscoverFunc&#45;&gt;DisconnectUnwantedNus</title>
<path fill="none" stroke="black" d="M403.09,-962.87C370.24,-945.77 319.65,-919.43 283.94,-900.83"/>
<polygon fill="black" stroke="black" points="285.23,-897.56 274.75,-896.05 282,-903.77 285.23,-897.56"/>
<text text-anchor="middle" x="443" y="-933.8" font-family="Times,serif" font-size="14.00">If NUS service found</text>
<text text-anchor="middle" x="443" y="-918.8" font-family="Times,serif" font-size="14.00">(unwanted NUS)</text>
</g>
<!-- WaitForPairing -->
<g id="node9" class="node">
<title>WaitForPairing</title>
<polygon fill="none" stroke="black" stroke-dasharray="1,5" points="759.5,-896 502.5,-896 502.5,-860 759.5,-860 759.5,-896"/>
<text text-anchor="middle" x="631" y="-874.3" font-family="Times,serif" font-size="14.00">Wait for remote to ask for pairing</text>
</g>
<!-- DiscoverFunc&#45;&gt;WaitForPairing -->
<g id="edge8" class="edge">
<title>DiscoverFunc&#45;&gt;WaitForPairing</title>
<path fill="none" stroke="black" d="M481.68,-962.97C494.88,-957.63 509.18,-951.44 522,-945 547.77,-932.05 575.57,-915.18 596.64,-901.73"/>
<polygon fill="black" stroke="black" points="598.72,-904.55 605.23,-896.2 594.93,-898.67 598.72,-904.55"/>
</g>
<!-- RemoteInitiatesPairing -->
<g id="node10" class="node">
<title>RemoteInitiatesPairing</title>
<polygon fill="none" stroke="black" stroke-dasharray="1,5" points="2163,-1586 1923,-1586 1923,-1550 2163,-1550 2163,-1586"/>
<text text-anchor="middle" x="2043" y="-1564.3" font-family="Times,serif" font-size="14.00">Remote device initiates pairing</text>
</g>
<!-- AuthPasskeyEntry -->
<g id="node18" class="node">
<title>AuthPasskeyEntry</title>
<polygon fill="none" stroke="black" points="2127,-1513 1959,-1513 1959,-1477 2127,-1477 2127,-1513"/>
<text text-anchor="middle" x="2043" y="-1491.3" font-family="Times,serif" font-size="14.00">auth_passkey_entry()</text>
</g>
<!-- RemoteInitiatesPairing&#45;&gt;AuthPasskeyEntry -->
<g id="edge9" class="edge">
<title>RemoteInitiatesPairing&#45;&gt;AuthPasskeyEntry</title>
<path fill="none" stroke="black" d="M2043,-1549.81C2043,-1541.79 2043,-1532.05 2043,-1523.07"/>
<polygon fill="black" stroke="black" points="2046.5,-1523.03 2043,-1513.03 2039.5,-1523.03 2046.5,-1523.03"/>
</g>
<!-- SetSecurity -->
<g id="node12" class="node">
<title>SetSecurity</title>
<polygon fill="none" stroke="black" points="1332.5,-1087 1029.5,-1087 1029.5,-1051 1332.5,-1051 1332.5,-1087"/>
<text text-anchor="middle" x="1181" y="-1065.3" font-family="Times,serif" font-size="14.00">bt_conn_set_security(BT_SECURITY_L4)</text>
</g>
<!-- IsWanted&#45;&gt;SetSecurity -->
<g id="edge11" class="edge">
<title>IsWanted&#45;&gt;SetSecurity</title>
<path fill="none" stroke="black" d="M815.86,-1146.22C882.2,-1132.37 1004.84,-1106.77 1089.57,-1089.09"/>
<polygon fill="black" stroke="black" points="1090.37,-1092.49 1099.45,-1087.02 1088.94,-1085.64 1090.37,-1092.49"/>
<text text-anchor="middle" x="1032.5" y="-1109.8" font-family="Times,serif" font-size="14.00">if wanted</text>
</g>
<!-- DisconnectUnwanted -->
<g id="node13" class="node">
<title>DisconnectUnwanted</title>
<polygon fill="none" stroke="black" points="1011,-1087 527,-1087 527,-1051 1011,-1051 1011,-1087"/>
<text text-anchor="middle" x="769" y="-1065.3" font-family="Times,serif" font-size="14.00">bt_conn_disconnect(BT_HCI_ERR_REMOTE_USER_TERM_CONN)</text>
</g>
<!-- IsWanted&#45;&gt;DisconnectUnwanted -->
<g id="edge12" class="edge">
<title>IsWanted&#45;&gt;DisconnectUnwanted</title>
<path fill="none" stroke="black" d="M769,-1138.6C769,-1126.75 769,-1110.82 769,-1097.29"/>
<polygon fill="black" stroke="black" points="772.5,-1097.08 769,-1087.08 765.5,-1097.08 772.5,-1097.08"/>
<text text-anchor="middle" x="811.5" y="-1109.8" font-family="Times,serif" font-size="14.00">if unwanted</text>
</g>
<!-- SecurityChanged -->
<g id="node14" class="node">
<title>SecurityChanged</title>
<polygon fill="none" stroke="black" points="1343,-999 1195,-999 1195,-963 1343,-963 1343,-999"/>
<text text-anchor="middle" x="1269" y="-977.3" font-family="Times,serif" font-size="14.00">securityChanged()</text>
</g>
<!-- SetSecurity&#45;&gt;SecurityChanged -->
<g id="edge13" class="edge">
<title>SetSecurity&#45;&gt;SecurityChanged</title>
<path fill="none" stroke="black" d="M1198.81,-1050.6C1211.89,-1037.81 1229.84,-1020.27 1244.31,-1006.13"/>
<polygon fill="black" stroke="black" points="1246.81,-1008.58 1251.52,-999.08 1241.92,-1003.57 1246.81,-1008.58"/>
</g>
<!-- CancelAuthLowSecurity -->
<g id="node15" class="node">
<title>CancelAuthLowSecurity</title>
<polygon fill="none" stroke="black" points="1147.5,-897 974.5,-897 974.5,-859 1147.5,-859 1147.5,-897"/>
<text text-anchor="middle" x="1061" y="-881.8" font-family="Times,serif" font-size="14.00">bt_conn_auth_cancel()</text>
<text text-anchor="middle" x="1061" y="-866.8" font-family="Times,serif" font-size="14.00">(insufficient security)</text>
</g>
<!-- SecurityChanged&#45;&gt;CancelAuthLowSecurity -->
<g id="edge14" class="edge">
<title>SecurityChanged&#45;&gt;CancelAuthLowSecurity</title>
<path fill="none" stroke="black" d="M1194.75,-966.31C1175.61,-961.15 1155.5,-954.22 1138,-945 1118.28,-934.61 1099.24,-918.37 1085.03,-904.59"/>
<polygon fill="black" stroke="black" points="1087.21,-901.82 1077.65,-897.24 1082.27,-906.78 1087.21,-901.82"/>
<text text-anchor="middle" x="1201.5" y="-926.3" font-family="Times,serif" font-size="14.00">if err || level &lt; L4</text>
</g>
<!-- SkipAuthConn -->
<g id="node16" class="node">
<title>SkipAuthConn</title>
<polygon fill="none" stroke="black" points="1372,-896 1166,-896 1166,-860 1372,-860 1372,-896"/>
<text text-anchor="middle" x="1269" y="-874.3" font-family="Times,serif" font-size="14.00">Skip if conn == auth_conn</text>
</g>
<!-- SecurityChanged&#45;&gt;SkipAuthConn -->
<g id="edge15" class="edge">
<title>SecurityChanged&#45;&gt;SkipAuthConn</title>
<path fill="none" stroke="black" d="M1269,-962.87C1269,-947.41 1269,-924.42 1269,-906.41"/>
<polygon fill="black" stroke="black" points="1272.5,-906.22 1269,-896.22 1265.5,-906.22 1272.5,-906.22"/>
<text text-anchor="middle" x="1346" y="-926.3" font-family="Times,serif" font-size="14.00">if conn == auth_conn</text>
</g>
<!-- ConnectAuthenticated -->
<g id="node17" class="node">
<title>ConnectAuthenticated</title>
<polygon fill="none" stroke="black" points="1653.5,-896 1390.5,-896 1390.5,-860 1653.5,-860 1653.5,-896"/>
<text text-anchor="middle" x="1522" y="-874.3" font-family="Times,serif" font-size="14.00">connectAuthenticatedConnection()</text>
</g>
<!-- SecurityChanged&#45;&gt;ConnectAuthenticated -->
<g id="edge16" class="edge">
<title>SecurityChanged&#45;&gt;ConnectAuthenticated</title>
<path fill="none" stroke="black" d="M1343.24,-969.72C1370.33,-964.38 1400.75,-956.49 1427,-945 1451.57,-934.25 1476.36,-916.75 1494.45,-902.47"/>
<polygon fill="black" stroke="black" points="1496.68,-905.18 1502.27,-896.18 1492.28,-899.73 1496.68,-905.18"/>
<text text-anchor="middle" x="1510.5" y="-926.3" font-family="Times,serif" font-size="14.00">if secured</text>
</g>
<!-- IsWantedAuth -->
<g id="node32" class="node">
<title>IsWantedAuth</title>
<polygon fill="none" stroke="black" points="1568.5,-822 1475.5,-822 1475.5,-786 1568.5,-786 1568.5,-822"/>
<text text-anchor="middle" x="1522" y="-800.3" font-family="Times,serif" font-size="14.00">isWanted()</text>
</g>
<!-- ConnectAuthenticated&#45;&gt;IsWantedAuth -->
<g id="edge34" class="edge">
<title>ConnectAuthenticated&#45;&gt;IsWantedAuth</title>
<path fill="none" stroke="black" d="M1522,-859.94C1522,-851.81 1522,-841.88 1522,-832.7"/>
<polygon fill="black" stroke="black" points="1525.5,-832.44 1522,-822.44 1518.5,-832.44 1525.5,-832.44"/>
</g>
<!-- SetAuthConn -->
<g id="node19" class="node">
<title>SetAuthConn</title>
<polygon fill="none" stroke="black" points="2115,-1425 1971,-1425 1971,-1389 2115,-1389 2115,-1425"/>
<text text-anchor="middle" x="2043" y="-1403.3" font-family="Times,serif" font-size="14.00">auth_conn = conn</text>
</g>
<!-- AuthPasskeyEntry&#45;&gt;SetAuthConn -->
<g id="edge17" class="edge">
<title>AuthPasskeyEntry&#45;&gt;SetAuthConn</title>
<path fill="none" stroke="black" d="M2043,-1476.6C2043,-1464.75 2043,-1448.82 2043,-1435.29"/>
<polygon fill="black" stroke="black" points="2046.5,-1435.08 2043,-1425.08 2039.5,-1435.08 2046.5,-1435.08"/>
</g>
<!-- CancelAuthUhkPeer -->
<g id="node20" class="node">
<title>CancelAuthUhkPeer</title>
<polygon fill="none" stroke="black" points="2306.5,-1426 2133.5,-1426 2133.5,-1388 2306.5,-1388 2306.5,-1426"/>
<text text-anchor="middle" x="2220" y="-1410.8" font-family="Times,serif" font-size="14.00">bt_conn_auth_cancel()</text>
<text text-anchor="middle" x="2220" y="-1395.8" font-family="Times,serif" font-size="14.00">(UHK peer)</text>
</g>
<!-- AuthPasskeyEntry&#45;&gt;CancelAuthUhkPeer -->
<g id="edge18" class="edge">
<title>AuthPasskeyEntry&#45;&gt;CancelAuthUhkPeer</title>
<path fill="none" stroke="black" d="M2078.39,-1476.8C2105.7,-1463.53 2143.72,-1445.06 2173.49,-1430.6"/>
<polygon fill="black" stroke="black" points="2175.37,-1433.57 2182.84,-1426.06 2172.31,-1427.28 2175.37,-1433.57"/>
<text text-anchor="middle" x="2185" y="-1447.8" font-family="Times,serif" font-size="14.00">if UHK peer</text>
</g>
<!-- AskForPassword -->
<g id="node21" class="node">
<title>AskForPassword</title>
<polygon fill="none" stroke="black" points="1953,-1425 1701,-1425 1701,-1389 1953,-1389 1953,-1425"/>
<text text-anchor="middle" x="1827" y="-1403.3" font-family="Times,serif" font-size="14.00">PairingScreen_AskForPassword()</text>
</g>
<!-- AuthPasskeyEntry&#45;&gt;AskForPassword -->
<g id="edge19" class="edge">
<title>AuthPasskeyEntry&#45;&gt;AskForPassword</title>
<path fill="none" stroke="black" d="M1996.53,-1476.85C1981.63,-1471.26 1965.08,-1464.96 1950,-1459 1925.73,-1449.41 1898.95,-1438.36 1876.6,-1429"/>
<polygon fill="black" stroke="black" points="1877.88,-1425.75 1867.3,-1425.11 1875.17,-1432.2 1877.88,-1425.75"/>
<text text-anchor="middle" x="1994.5" y="-1447.8" font-family="Times,serif" font-size="14.00">other device</text>
</g>
<!-- BtPairPasskey -->
<g id="node22" class="node">
<title>BtPairPasskey</title>
<polygon fill="none" stroke="black" points="1895,-1351 1759,-1351 1759,-1315 1895,-1315 1895,-1351"/>
<text text-anchor="middle" x="1827" y="-1329.3" font-family="Times,serif" font-size="14.00">BtPair_Passkey()</text>
</g>
<!-- AskForPassword&#45;&gt;BtPairPasskey -->
<g id="edge20" class="edge">
<title>AskForPassword&#45;&gt;BtPairPasskey</title>
<path fill="none" stroke="black" d="M1827,-1388.94C1827,-1380.81 1827,-1370.88 1827,-1361.7"/>
<polygon fill="black" stroke="black" points="1830.5,-1361.44 1827,-1351.44 1823.5,-1361.44 1830.5,-1361.44"/>
</g>
<!-- PasskeyEntry -->
<g id="node23" class="node">
<title>PasskeyEntry</title>
<polygon fill="none" stroke="black" points="1803,-1263 1573,-1263 1573,-1227 1803,-1227 1803,-1263"/>
<text text-anchor="middle" x="1688" y="-1241.3" font-family="Times,serif" font-size="14.00">bt_conn_auth_passkey_entry()</text>
</g>
<!-- BtPairPasskey&#45;&gt;PasskeyEntry -->
<g id="edge21" class="edge">
<title>BtPairPasskey&#45;&gt;PasskeyEntry</title>
<path fill="none" stroke="black" d="M1799.21,-1314.8C1777.71,-1301.5 1747.76,-1282.98 1724.36,-1268.5"/>
<polygon fill="black" stroke="black" points="1726.09,-1265.45 1715.75,-1263.17 1722.41,-1271.4 1726.09,-1265.45"/>
<text text-anchor="middle" x="1808.5" y="-1285.8" font-family="Times,serif" font-size="14.00">if accepted</text>
</g>
<!-- RejectPasskey -->
<g id="node24" class="node">
<title>RejectPasskey</title>
<polygon fill="none" stroke="black" points="1994.5,-1264 1821.5,-1264 1821.5,-1226 1994.5,-1226 1994.5,-1264"/>
<text text-anchor="middle" x="1908" y="-1248.8" font-family="Times,serif" font-size="14.00">bt_conn_auth_cancel()</text>
<text text-anchor="middle" x="1908" y="-1233.8" font-family="Times,serif" font-size="14.00">(user rejected)</text>
</g>
<!-- BtPairPasskey&#45;&gt;RejectPasskey -->
<g id="edge22" class="edge">
<title>BtPairPasskey&#45;&gt;RejectPasskey</title>
<path fill="none" stroke="black" d="M1843.39,-1314.6C1855.01,-1302.26 1870.8,-1285.49 1883.86,-1271.63"/>
<polygon fill="black" stroke="black" points="1886.49,-1273.95 1890.79,-1264.27 1881.39,-1269.15 1886.49,-1273.95"/>
<text text-anchor="middle" x="1908.5" y="-1285.8" font-family="Times,serif" font-size="14.00">if rejected</text>
</g>
<!-- PairingComplete -->
<g id="node25" class="node">
<title>PairingComplete</title>
<polygon fill="none" stroke="black" points="1763,-1175 1613,-1175 1613,-1139 1763,-1139 1763,-1175"/>
<text text-anchor="middle" x="1688" y="-1153.3" font-family="Times,serif" font-size="14.00">pairing_complete()</text>
</g>
<!-- PasskeyEntry&#45;&gt;PairingComplete -->
<g id="edge23" class="edge">
<title>PasskeyEntry&#45;&gt;PairingComplete</title>
<path fill="none" stroke="black" d="M1688,-1226.6C1688,-1214.75 1688,-1198.82 1688,-1185.29"/>
<polygon fill="black" stroke="black" points="1691.5,-1185.08 1688,-1175.08 1684.5,-1185.08 1691.5,-1185.08"/>
<text text-anchor="middle" x="1726.5" y="-1196.8" font-family="Times,serif" font-size="14.00">on success</text>
</g>
<!-- OobPairing -->
<g id="node26" class="node">
<title>OobPairing</title>
<polygon fill="none" stroke="black" points="2043,-1088 1807,-1088 1807,-1050 2043,-1050 2043,-1088"/>
<text text-anchor="middle" x="1925" y="-1072.8" font-family="Times,serif" font-size="14.00">OOB Pairing Case</text>
<text text-anchor="middle" x="1925" y="-1057.8" font-family="Times,serif" font-size="14.00">(BtPair_OobPairingInProgress)</text>
</g>
<!-- PairingComplete&#45;&gt;OobPairing -->
<g id="edge24" class="edge">
<title>PairingComplete&#45;&gt;OobPairing</title>
<path fill="none" stroke="black" d="M1763.13,-1143.35C1787.8,-1137.95 1815.02,-1130.62 1839,-1121 1856.91,-1113.81 1875.49,-1103.25 1890.77,-1093.6"/>
<polygon fill="black" stroke="black" points="1892.85,-1096.42 1899.36,-1088.05 1889.06,-1090.54 1892.85,-1096.42"/>
<text text-anchor="middle" x="1980" y="-1109.8" font-family="Times,serif" font-size="14.00">if BtPair_OobPairingInProgress</text>
</g>
<!-- KnownBleHid -->
<g id="node27" class="node">
<title>KnownBleHid</title>
<polygon fill="none" stroke="black" points="1569,-1087 1351,-1087 1351,-1051 1569,-1051 1569,-1087"/>
<text text-anchor="middle" x="1460" y="-1065.3" font-family="Times,serif" font-size="14.00">Known BLE HID Connection</text>
</g>
<!-- PairingComplete&#45;&gt;KnownBleHid -->
<g id="edge25" class="edge">
<title>PairingComplete&#45;&gt;KnownBleHid</title>
<path fill="none" stroke="black" d="M1612.81,-1142.57C1589.91,-1137.24 1565,-1130.14 1543,-1121 1525.11,-1113.57 1506.62,-1102.58 1491.64,-1092.7"/>
<polygon fill="black" stroke="black" points="1493.51,-1089.74 1483.26,-1087.05 1489.6,-1095.54 1493.51,-1089.74"/>
<text text-anchor="middle" x="1613.5" y="-1109.8" font-family="Times,serif" font-size="14.00">if bonded &amp;&amp; !OOB</text>
</g>
<!-- NewBleHid -->
<g id="node28" class="node">
<title>NewBleHid</title>
<polygon fill="none" stroke="black" points="1788.5,-1087 1587.5,-1087 1587.5,-1051 1788.5,-1051 1788.5,-1087"/>
<text text-anchor="middle" x="1688" y="-1065.3" font-family="Times,serif" font-size="14.00">New BLE HID Connection</text>
</g>
<!-- PairingComplete&#45;&gt;NewBleHid -->
<g id="edge26" class="edge">
<title>PairingComplete&#45;&gt;NewBleHid</title>
<path fill="none" stroke="black" d="M1688,-1138.6C1688,-1126.75 1688,-1110.82 1688,-1097.29"/>
<polygon fill="black" stroke="black" points="1691.5,-1097.08 1688,-1087.08 1684.5,-1097.08 1691.5,-1097.08"/>
<text text-anchor="middle" x="1761.5" y="-1109.8" font-family="Times,serif" font-size="14.00">if !bonded &amp;&amp; !OOB</text>
</g>
<!-- AuthConnNull -->
<g id="node29" class="node">
<title>AuthConnNull</title>
<polygon fill="none" stroke="black" points="1536,-999 1384,-999 1384,-963 1536,-963 1536,-999"/>
<text text-anchor="middle" x="1460" y="-977.3" font-family="Times,serif" font-size="14.00">auth_conn = NULL</text>
</g>
<!-- OobPairing&#45;&gt;AuthConnNull -->
<g id="edge28" class="edge">
<title>OobPairing&#45;&gt;AuthConnNull</title>
<path fill="none" stroke="black" d="M1850.19,-1049.96C1804.19,-1039.32 1743.91,-1026.18 1690,-1017 1629.11,-1006.63 1610.87,-1009.09 1546.67,-999.18"/>
<polygon fill="black" stroke="black" points="1546.83,-995.67 1536.41,-997.56 1545.74,-1002.58 1546.83,-995.67"/>
</g>
<!-- DisconnectOobDevice -->
<g id="node31" class="node">
<title>DisconnectOobDevice</title>
<polygon fill="none" stroke="black" points="2111.5,-999 1928.5,-999 1928.5,-963 2111.5,-963 2111.5,-999"/>
<text text-anchor="middle" x="2020" y="-977.3" font-family="Times,serif" font-size="14.00">Disconnect OOB device</text>
</g>
<!-- OobPairing&#45;&gt;DisconnectOobDevice -->
<g id="edge27" class="edge">
<title>OobPairing&#45;&gt;DisconnectOobDevice</title>
<path fill="none" stroke="black" d="M1945.15,-1049.76C1959.25,-1037 1978.22,-1019.82 1993.54,-1005.95"/>
<polygon fill="black" stroke="black" points="1996.11,-1008.35 2001.17,-999.04 1991.41,-1003.16 1996.11,-1008.35"/>
</g>
<!-- KnownBleHid&#45;&gt;SecurityChanged -->
<g id="edge32" class="edge">
<title>KnownBleHid&#45;&gt;SecurityChanged</title>
<path fill="none" stroke="black" d="M1350.74,-1051.04C1316.44,-1044.76 1285.89,-1037.77 1280,-1032 1273.93,-1026.05 1270.86,-1017.57 1269.4,-1009.27"/>
<polygon fill="black" stroke="black" points="1272.85,-1008.65 1268.3,-999.08 1265.89,-1009.4 1272.85,-1008.65"/>
<text text-anchor="middle" x="1368" y="-1020.8" font-family="Times,serif" font-size="14.00">triggers security change</text>
</g>
<!-- KnownBleHid&#45;&gt;AuthConnNull -->
<g id="edge29" class="edge">
<title>KnownBleHid&#45;&gt;AuthConnNull</title>
<path fill="none" stroke="black" d="M1460,-1050.6C1460,-1038.75 1460,-1022.82 1460,-1009.29"/>
<polygon fill="black" stroke="black" points="1463.5,-1009.08 1460,-999.08 1456.5,-1009.08 1463.5,-1009.08"/>
</g>
<!-- NewBleHid&#45;&gt;SecurityChanged -->
<g id="edge33" class="edge">
<title>NewBleHid&#45;&gt;SecurityChanged</title>
<path fill="none" stroke="black" d="M1589.19,-1051C1545.57,-1043.27 1501.88,-1035.17 1492,-1032 1477.04,-1027.21 1474.96,-1021.79 1460,-1017 1440.08,-1010.63 1394.62,-1002.21 1353.04,-995.23"/>
<polygon fill="black" stroke="black" points="1353.57,-991.77 1343.13,-993.58 1352.42,-998.67 1353.57,-991.77"/>
<text text-anchor="middle" x="1580" y="-1020.8" font-family="Times,serif" font-size="14.00">triggers security change</text>
</g>
<!-- NewBleHid&#45;&gt;AuthConnNull -->
<g id="edge31" class="edge">
<title>NewBleHid&#45;&gt;AuthConnNull</title>
<path fill="none" stroke="black" d="M1687.16,-1050.76C1685.65,-1039.46 1681.76,-1025.29 1672,-1017 1652.09,-1000.1 1585.67,-1003.08 1546.46,-998.86"/>
<polygon fill="black" stroke="black" points="1546.8,-995.37 1536.42,-997.5 1545.86,-1002.31 1546.8,-995.37"/>
</g>
<!-- AssignIdentityNewHid -->
<g id="node30" class="node">
<title>AssignIdentityNewHid</title>
<polygon fill="none" stroke="black" points="1910,-999 1554,-999 1554,-963 1910,-963 1910,-999"/>
<text text-anchor="middle" x="1732" y="-977.3" font-family="Times,serif" font-size="14.00">Assign identity to new BLE HID connection slot</text>
</g>
<!-- NewBleHid&#45;&gt;AssignIdentityNewHid -->
<g id="edge30" class="edge">
<title>NewBleHid&#45;&gt;AssignIdentityNewHid</title>
<path fill="none" stroke="black" d="M1696.9,-1050.6C1703.15,-1038.39 1711.6,-1021.87 1718.65,-1008.09"/>
<polygon fill="black" stroke="black" points="1721.82,-1009.58 1723.26,-999.08 1715.59,-1006.39 1721.82,-1009.58"/>
</g>
<!-- DisconnectUnwantedAuth -->
<g id="node33" class="node">
<title>DisconnectUnwantedAuth</title>
<polygon fill="none" stroke="black" points="1710,-735 1226,-735 1226,-699 1710,-699 1710,-735"/>
<text text-anchor="middle" x="1468" y="-713.3" font-family="Times,serif" font-size="14.00">bt_conn_disconnect(BT_HCI_ERR_REMOTE_USER_TERM_CONN)</text>
</g>
<!-- IsWantedAuth&#45;&gt;DisconnectUnwantedAuth -->
<g id="edge35" class="edge">
<title>IsWantedAuth&#45;&gt;DisconnectUnwantedAuth</title>
<path fill="none" stroke="black" d="M1511.07,-785.8C1503.39,-773.7 1492.97,-757.3 1484.31,-743.67"/>
<polygon fill="black" stroke="black" points="1487.23,-741.74 1478.91,-735.18 1481.32,-745.49 1487.23,-741.74"/>
<text text-anchor="middle" x="1540.5" y="-756.8" font-family="Times,serif" font-size="14.00">if unwanted</text>
</g>
<!-- ConnTypeSwitch -->
<g id="node34" class="node">
<title>ConnTypeSwitch</title>
<polygon fill="none" stroke="black" points="1913.5,-735 1728.5,-735 1728.5,-699 1913.5,-699 1913.5,-735"/>
<text text-anchor="middle" x="1821" y="-713.3" font-family="Times,serif" font-size="14.00">ConnectionType Switch</text>
</g>
<!-- IsWantedAuth&#45;&gt;ConnTypeSwitch -->
<g id="edge36" class="edge">
<title>IsWantedAuth&#45;&gt;ConnTypeSwitch</title>
<path fill="none" stroke="black" d="M1568.72,-789.72C1617.6,-775.82 1694.9,-753.85 1751.07,-737.88"/>
<polygon fill="black" stroke="black" points="1752.28,-741.17 1760.94,-735.07 1750.37,-734.44 1752.28,-741.17"/>
<text text-anchor="middle" x="1722.5" y="-756.8" font-family="Times,serif" font-size="14.00">if wanted</text>
</g>
<!-- ConnectNus -->
<g id="node35" class="node">
<title>ConnectNus</title>
<polygon fill="none" stroke="black" points="1638.5,-648 1527.5,-648 1527.5,-612 1638.5,-612 1638.5,-648"/>
<text text-anchor="middle" x="1583" y="-626.3" font-family="Times,serif" font-size="14.00">connectNus()</text>
</g>
<!-- ConnTypeSwitch&#45;&gt;ConnectNus -->
<g id="edge37" class="edge">
<title>ConnTypeSwitch&#45;&gt;ConnectNus</title>
<path fill="none" stroke="black" d="M1728.44,-700.55C1725.25,-700.03 1722.1,-699.51 1719,-699 1669.68,-690.89 1648.27,-710.6 1608,-681 1600.16,-675.24 1594.63,-666.32 1590.79,-657.6"/>
<polygon fill="black" stroke="black" points="1593.98,-656.13 1587.16,-648.02 1587.44,-658.61 1593.98,-656.13"/>
<text text-anchor="middle" x="1712.5" y="-669.8" font-family="Times,serif" font-size="14.00">if NUS type (server or client)</text>
</g>
<!-- ConnectHid -->
<g id="node36" class="node">
<title>ConnectHid</title>
<polygon fill="none" stroke="black" points="1875,-648 1767,-648 1767,-612 1875,-612 1875,-648"/>
<text text-anchor="middle" x="1821" y="-626.3" font-family="Times,serif" font-size="14.00">connectHid()</text>
</g>
<!-- ConnTypeSwitch&#45;&gt;ConnectHid -->
<g id="edge38" class="edge">
<title>ConnTypeSwitch&#45;&gt;ConnectHid</title>
<path fill="none" stroke="black" d="M1821,-698.8C1821,-687.16 1821,-671.55 1821,-658.24"/>
<polygon fill="black" stroke="black" points="1824.5,-658.18 1821,-648.18 1817.5,-658.18 1824.5,-658.18"/>
<text text-anchor="middle" x="1860" y="-669.8" font-family="Times,serif" font-size="14.00">if BLE HID</text>
</g>
<!-- DisconnectUnknownType -->
<g id="node37" class="node">
<title>DisconnectUnknownType</title>
<polygon fill="none" stroke="black" points="2239.5,-648 1892.5,-648 1892.5,-612 2239.5,-612 2239.5,-648"/>
<text text-anchor="middle" x="2066" y="-626.3" font-family="Times,serif" font-size="14.00">bt_conn_disconnect(BT_HCI_ERR_AUTH_FAIL)</text>
</g>
<!-- ConnTypeSwitch&#45;&gt;DisconnectUnknownType -->
<g id="edge39" class="edge">
<title>ConnTypeSwitch&#45;&gt;DisconnectUnknownType</title>
<path fill="none" stroke="black" d="M1870.28,-698.9C1909.82,-685.18 1965.44,-665.89 2007.28,-651.37"/>
<polygon fill="black" stroke="black" points="2008.49,-654.66 2016.79,-648.07 2006.2,-648.04 2008.49,-654.66"/>
<text text-anchor="middle" x="1997.5" y="-669.8" font-family="Times,serif" font-size="14.00">if unknown</text>
</g>
<!-- AssignPeerNus -->
<g id="node38" class="node">
<title>AssignPeerNus</title>
<polygon fill="none" stroke="black" points="1612.5,-575 1507.5,-575 1507.5,-539 1612.5,-539 1612.5,-575"/>
<text text-anchor="middle" x="1560" y="-553.3" font-family="Times,serif" font-size="14.00">assignPeer()</text>
</g>
<!-- ConnectNus&#45;&gt;AssignPeerNus -->
<g id="edge40" class="edge">
<title>ConnectNus&#45;&gt;AssignPeerNus</title>
<path fill="none" stroke="black" d="M1577.43,-611.81C1574.8,-603.7 1571.61,-593.84 1568.67,-584.78"/>
<polygon fill="black" stroke="black" points="1571.93,-583.46 1565.52,-575.03 1565.27,-585.62 1571.93,-583.46"/>
</g>
<!-- AssignPeerHid -->
<g id="node49" class="node">
<title>AssignPeerHid</title>
<polygon fill="none" stroke="black" points="1875.5,-575 1770.5,-575 1770.5,-539 1875.5,-539 1875.5,-575"/>
<text text-anchor="middle" x="1823" y="-553.3" font-family="Times,serif" font-size="14.00">assignPeer()</text>
</g>
<!-- ConnectHid&#45;&gt;AssignPeerHid -->
<g id="edge51" class="edge">
<title>ConnectHid&#45;&gt;AssignPeerHid</title>
<path fill="none" stroke="black" d="M1821.48,-611.81C1821.71,-603.79 1821.98,-594.05 1822.24,-585.07"/>
<polygon fill="black" stroke="black" points="1825.74,-585.12 1822.52,-575.03 1818.74,-584.93 1825.74,-585.12"/>
</g>
<!-- ConfigureLatencyNus -->
<g id="node39" class="node">
<title>ConfigureLatencyNus</title>
<polygon fill="none" stroke="black" points="1612.5,-502 1325.5,-502 1325.5,-466 1612.5,-466 1612.5,-502"/>
<text text-anchor="middle" x="1469" y="-480.3" font-family="Times,serif" font-size="14.00">configureLatency(LatencyMode_NUS)</text>
</g>
<!-- AssignPeerNus&#45;&gt;ConfigureLatencyNus -->
<g id="edge41" class="edge">
<title>AssignPeerNus&#45;&gt;ConfigureLatencyNus</title>
<path fill="none" stroke="black" d="M1537.97,-538.81C1526.23,-529.66 1511.63,-518.26 1498.88,-508.32"/>
<polygon fill="black" stroke="black" points="1500.86,-505.42 1490.83,-502.03 1496.56,-510.94 1500.86,-505.42"/>
</g>
<!-- EnableDLE -->
<g id="node40" class="node">
<title>EnableDLE</title>
<polygon fill="none" stroke="black" points="1584,-415 1354,-415 1354,-379 1584,-379 1584,-415"/>
<text text-anchor="middle" x="1469" y="-393.3" font-family="Times,serif" font-size="14.00">enableDataLengthExtension()</text>
</g>
<!-- ConfigureLatencyNus&#45;&gt;EnableDLE -->
<g id="edge42" class="edge">
<title>ConfigureLatencyNus&#45;&gt;EnableDLE</title>
<path fill="none" stroke="black" d="M1469,-465.8C1469,-454.16 1469,-438.55 1469,-425.24"/>
<polygon fill="black" stroke="black" points="1472.5,-425.18 1469,-415.18 1465.5,-425.18 1472.5,-425.18"/>
</g>
<!-- NusClientConnect -->
<g id="node41" class="node">
<title>NusClientConnect</title>
<polygon fill="none" stroke="black" points="1551,-328 1387,-328 1387,-292 1551,-292 1551,-328"/>
<text text-anchor="middle" x="1469" y="-306.3" font-family="Times,serif" font-size="14.00">NusClient_Connect()</text>
</g>
<!-- EnableDLE&#45;&gt;NusClientConnect -->
<g id="edge43" class="edge">
<title>EnableDLE&#45;&gt;NusClientConnect</title>
<path fill="none" stroke="black" d="M1469,-378.8C1469,-367.16 1469,-351.55 1469,-338.24"/>
<polygon fill="black" stroke="black" points="1472.5,-338.18 1469,-328.18 1465.5,-338.18 1472.5,-338.18"/>
<text text-anchor="middle" x="1517" y="-349.8" font-family="Times,serif" font-size="14.00">if NUS Client</text>
</g>
<!-- ClientDiscoverServices -->
<g id="node42" class="node">
<title>ClientDiscoverServices</title>
<polygon fill="none" stroke="black" points="1585.5,-255 1352.5,-255 1352.5,-219 1585.5,-219 1585.5,-255"/>
<text text-anchor="middle" x="1469" y="-233.3" font-family="Times,serif" font-size="14.00">Client discovers NUS services</text>
</g>
<!-- NusClientConnect&#45;&gt;ClientDiscoverServices -->
<g id="edge44" class="edge">
<title>NusClientConnect&#45;&gt;ClientDiscoverServices</title>
<path fill="none" stroke="black" d="M1469,-291.81C1469,-283.79 1469,-274.05 1469,-265.07"/>
<polygon fill="black" stroke="black" points="1472.5,-265.03 1469,-255.03 1465.5,-265.03 1472.5,-265.03"/>
</g>
<!-- ClientSubscribeToNus -->
<g id="node43" class="node">
<title>ClientSubscribeToNus</title>
<polygon fill="none" stroke="black" points="1614,-182 1324,-182 1324,-146 1614,-146 1614,-182"/>
<text text-anchor="middle" x="1469" y="-160.3" font-family="Times,serif" font-size="14.00">Client subscribes to NUS notifications</text>
</g>
<!-- ClientDiscoverServices&#45;&gt;ClientSubscribeToNus -->
<g id="edge45" class="edge">
<title>ClientDiscoverServices&#45;&gt;ClientSubscribeToNus</title>
<path fill="none" stroke="black" d="M1469,-218.81C1469,-210.79 1469,-201.05 1469,-192.07"/>
<polygon fill="black" stroke="black" points="1472.5,-192.03 1469,-182.03 1465.5,-192.03 1472.5,-192.03"/>
</g>
<!-- ClientSendsFirstMessage -->
<g id="node44" class="node">
<title>ClientSendsFirstMessage</title>
<polygon fill="none" stroke="black" points="1572,-109 1366,-109 1366,-73 1572,-73 1572,-109"/>
<text text-anchor="middle" x="1469" y="-87.3" font-family="Times,serif" font-size="14.00">Client sends first message</text>
</g>
<!-- ClientSubscribeToNus&#45;&gt;ClientSendsFirstMessage -->
<g id="edge46" class="edge">
<title>ClientSubscribeToNus&#45;&gt;ClientSendsFirstMessage</title>
<path fill="none" stroke="black" d="M1469,-145.81C1469,-137.79 1469,-128.05 1469,-119.07"/>
<polygon fill="black" stroke="black" points="1472.5,-119.03 1469,-109.03 1465.5,-119.03 1472.5,-119.03"/>
</g>
<!-- ClientSetStateReady -->
<g id="node48" class="node">
<title>ClientSetStateReady</title>
<polygon fill="none" stroke="black" points="1671.5,-36 1266.5,-36 1266.5,0 1671.5,0 1671.5,-36"/>
<text text-anchor="middle" x="1469" y="-14.3" font-family="Times,serif" font-size="14.00">Client: Connections_SetState(ConnectionState_Ready)</text>
</g>
<!-- ClientSendsFirstMessage&#45;&gt;ClientSetStateReady -->
<g id="edge47" class="edge">
<title>ClientSendsFirstMessage&#45;&gt;ClientSetStateReady</title>
<path fill="none" stroke="black" d="M1469,-72.81C1469,-64.79 1469,-55.05 1469,-46.07"/>
<polygon fill="black" stroke="black" points="1472.5,-46.03 1469,-36.03 1465.5,-46.03 1472.5,-46.03"/>
</g>
<!-- ServerWaitsForMessage -->
<g id="node45" class="node">
<title>ServerWaitsForMessage</title>
<polygon fill="none" stroke="black" stroke-dasharray="1,5" points="1939.5,-415 1706.5,-415 1706.5,-379 1939.5,-379 1939.5,-415"/>
<text text-anchor="middle" x="1823" y="-393.3" font-family="Times,serif" font-size="14.00">Server waits for first message</text>
</g>
<!-- ServerProcessesMessage -->
<g id="node46" class="node">
<title>ServerProcessesMessage</title>
<polygon fill="none" stroke="black" points="1943,-328 1703,-328 1703,-292 1943,-292 1943,-328"/>
<text text-anchor="middle" x="1823" y="-306.3" font-family="Times,serif" font-size="14.00">Server processes first message</text>
</g>
<!-- ServerWaitsForMessage&#45;&gt;ServerProcessesMessage -->
<g id="edge49" class="edge">
<title>ServerWaitsForMessage&#45;&gt;ServerProcessesMessage</title>
<path fill="none" stroke="black" d="M1823,-378.8C1823,-367.16 1823,-351.55 1823,-338.24"/>
<polygon fill="black" stroke="black" points="1826.5,-338.18 1823,-328.18 1819.5,-338.18 1826.5,-338.18"/>
</g>
<!-- ServerSetStateReady -->
<g id="node47" class="node">
<title>ServerSetStateReady</title>
<polygon fill="none" stroke="black" points="2028,-255 1618,-255 1618,-219 2028,-219 2028,-255"/>
<text text-anchor="middle" x="1823" y="-233.3" font-family="Times,serif" font-size="14.00">Server: Connections_SetState(ConnectionState_Ready)</text>
</g>
<!-- ServerProcessesMessage&#45;&gt;ServerSetStateReady -->
<g id="edge50" class="edge">
<title>ServerProcessesMessage&#45;&gt;ServerSetStateReady</title>
<path fill="none" stroke="black" d="M1823,-291.81C1823,-283.79 1823,-274.05 1823,-265.07"/>
<polygon fill="black" stroke="black" points="1826.5,-265.03 1823,-255.03 1819.5,-265.03 1826.5,-265.03"/>
</g>
<!-- ConfigureLatencyHid -->
<g id="node50" class="node">
<title>ConfigureLatencyHid</title>
<polygon fill="none" stroke="black" points="2336,-502 2034,-502 2034,-466 2336,-466 2336,-502"/>
<text text-anchor="middle" x="2185" y="-480.3" font-family="Times,serif" font-size="14.00">configureLatency(LatencyMode_BleHid)</text>
</g>
<!-- AssignPeerHid&#45;&gt;ConfigureLatencyHid -->
<g id="edge52" class="edge">
<title>AssignPeerHid&#45;&gt;ConfigureLatencyHid</title>
<path fill="none" stroke="black" d="M1875.64,-545.68C1931.24,-534.77 2020.14,-517.33 2088.4,-503.95"/>
<polygon fill="black" stroke="black" points="2089.18,-507.36 2098.32,-502 2087.83,-500.49 2089.18,-507.36"/>
</g>
<!-- SetStateConnected -->
<g id="node52" class="node">
<title>SetStateConnected</title>
<polygon fill="none" stroke="black" points="2015.5,-502 1630.5,-502 1630.5,-466 2015.5,-466 2015.5,-502"/>
<text text-anchor="middle" x="1823" y="-480.3" font-family="Times,serif" font-size="14.00">Connections_SetState(ConnectionState_Connected)</text>
</g>
<!-- AssignPeerHid&#45;&gt;SetStateConnected -->
<g id="edge54" class="edge">
<title>AssignPeerHid&#45;&gt;SetStateConnected</title>
<path fill="none" stroke="black" d="M1823,-538.81C1823,-530.79 1823,-521.05 1823,-512.07"/>
<polygon fill="black" stroke="black" points="1826.5,-512.03 1823,-502.03 1819.5,-512.03 1826.5,-512.03"/>
</g>
<!-- SetStateReady -->
<g id="node51" class="node">
<title>SetStateReady</title>
<polygon fill="none" stroke="black" points="2361.5,-415 2008.5,-415 2008.5,-379 2361.5,-379 2361.5,-415"/>
<text text-anchor="middle" x="2185" y="-393.3" font-family="Times,serif" font-size="14.00">Connections_SetState(ConnectionState_Ready)</text>
</g>
<!-- ConfigureLatencyHid&#45;&gt;SetStateReady -->
<g id="edge53" class="edge">
<title>ConfigureLatencyHid&#45;&gt;SetStateReady</title>
<path fill="none" stroke="black" d="M2185,-465.8C2185,-454.16 2185,-438.55 2185,-425.24"/>
<polygon fill="black" stroke="black" points="2188.5,-425.18 2185,-415.18 2181.5,-425.18 2188.5,-425.18"/>
</g>
<!-- SetStateConnected&#45;&gt;ServerWaitsForMessage -->
<g id="edge48" class="edge">
<title>SetStateConnected&#45;&gt;ServerWaitsForMessage</title>
<path fill="none" stroke="black" d="M1823,-465.8C1823,-454.16 1823,-438.55 1823,-425.24"/>
<polygon fill="black" stroke="black" points="1826.5,-425.18 1823,-415.18 1819.5,-425.18 1826.5,-425.18"/>
<text text-anchor="middle" x="1873.5" y="-436.8" font-family="Times,serif" font-size="14.00">if NUS Server</text>
</g>
</g>
</svg>
